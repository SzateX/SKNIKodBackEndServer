(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Project"],{"029f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-4 mb-2 mx-4 fill-height"},[t.projects&&t.projects.length>0?i("v-row",{attrs:{justify:"center"}},[i("v-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6",xl:"4"}},t._l(t.projects,(function(e){return i("project-card",{key:e.title,staticClass:"my-2",attrs:{project:e},on:{delete:t.deleteProject}})})),1)],1):i("v-row",{staticClass:"fill-height",attrs:{align:"center"}},[i("v-col",[i("div",{staticClass:"text-h3 font-weight-bold text-center"},[t._v(" "+t._s(t.loading?"Ładowanie danych":"Brak projektów")+" "),t.loading?i("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}):t._e()],1)])],1),t.role?i("v-btn-cap",{staticClass:"success",attrs:{fab:"",fixed:"",bottom:"",right:"",to:{name:"projectAdd"}}},[i("v-icon",{staticClass:"white--text"},[t._v("mdi-plus")])],1):t._e(),t.projects&&t.projects.length>0?i("v-pagination",{staticClass:"mb-3",attrs:{length:t.pagination.pageCount,"prev-icon":"mdi-chevron-left","next-icon":"mdi-chevron-right"},on:{input:t.paginationClicked},model:{value:t.pagination.currentPage,callback:function(e){t.$set(t.pagination,"currentPage",e)},expression:"pagination.currentPage"}}):t._e()],1)},s=[],n=i("d4ec"),r=i("bee2"),o=i("257e"),c=i("262e"),l=i("2caf"),u=i("ade3"),d=(i("99af"),i("ac1f"),i("5319"),i("9ab4")),h=i("1b40"),p=i("ce46"),v=i("6124"),g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-card",{staticClass:"elevation-3"},[i("v-card-title",{staticClass:"grey lighten-4"},[i("h3",{staticClass:"headline"},[t._v(t._s(t.project.title))])]),i("v-divider"),i("v-card-text",{staticClass:"text-left"},[i("markdown-it-vue",{staticClass:"md-body",attrs:{content:t.project.text+"...",options:t.markdownOptions}})],1),i("v-card-text",{staticClass:"primary"},[i("v-row",{staticClass:"mx-auto"},[i("v-col",{staticClass:"text-center py-0",attrs:{cols:"auto"}},[i("v-row",{staticClass:"flex-column ma-0 fill-height",attrs:{justify:"center"}},[i("v-icon",{staticClass:"white--text",attrs:{"x-large":"",left:""}},[t._v(t._s("mdi-"+t.project.section.icon))])],1)],1),i("v-col",{staticClass:"pa-0"},[i("v-row",{staticClass:"flex-column ma-0 fill-height",attrs:{justify:"center"}},[i("p",{staticClass:"white--text text-left text-h6 font-weight-black my-auto"},[t._v(" "+t._s(t.project.section.name)+" ")])])],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn-cap",{attrs:{depressed:"",color:"warning",to:{name:"project",params:{id:t.project.id}}}},[t._v("Zobacz więcej")]),t.role?i("v-speed-dial",{staticClass:"ml-2",attrs:{direction:"top"},scopedSlots:t._u([{key:"activator",fn:function(){return[i("v-btn-cap",{staticClass:"text-body-1 font-weight-bold",attrs:{"x-small":"",fab:"",color:"primary"},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[i("v-icon",[t._v("mdi-cog")])],1)]},proxy:!0}],null,!1,2569161626),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[i("v-btn-cap",{attrs:{fab:"","x-small":"",color:"orange",to:{name:"editProject",params:{id:t.project.id}}}},[i("v-icon",[t._v("mdi-pen")])],1),i("v-btn-cap",{attrs:{fab:"","x-small":"",color:"error"},on:{click:function(e){t.dialog=!0}}},[i("v-icon",[t._v("mdi-delete")])],1)],1):t._e()],1)],1),t.dialog?i("confirmation-dialog",{attrs:{text:t.dialogText},on:{yes:t.deleteProject,no:function(e){t.dialog=!1}}}):t._e()],1)},f=[],m=function(t){Object(c["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;Object(n["a"])(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s)),Object(u["a"])(Object(o["a"])(t),"project",void 0),t}return Object(r["a"])(a,[{key:"auth",get:function(){return this.$store.getters.isAuthenticated}},{key:"role",get:function(){return this.$store.getters.isAdministrator}},{key:"removeMarkdown",value:function(t){var e=i("b5c1");return e(t)}},{key:"dialogText",get:function(){return'Czy na pewno chcesz usunąć projekt "'+this.project.title+'"?'}},{key:"text",get:function(){return this.removeMarkdown(this.project.text)}},{key:"deleteProject",value:function(){this.$data.dialog=!1,this.$emit("delete",this.project.id)}},{key:"data",value:function(){return{fab:!1,dialog:!1,markdownOptions:{githubToc:{anchorLink:!1}}}}}]),a}(h["c"]);Object(d["a"])([Object(h["b"])()],m.prototype,"project",void 0),m=Object(d["a"])([h["a"]],m);var b=m,j=b,y=i("2877"),x=i("6544"),$=i.n(x),C=i("b0af"),k=i("99d9"),w=i("62ad"),O=i("ce7e"),_=i("132d"),P=i("0fd9"),A=i("2fa4"),S=i("c73b"),L=Object(y["a"])(j,g,f,!1,null,null,null),V=L.exports;$()(L,{VCard:C["a"],VCardActions:k["a"],VCardText:k["c"],VCardTitle:k["d"],VCol:w["a"],VDivider:O["a"],VIcon:_["a"],VRow:P["a"],VSpacer:A["a"],VSpeedDial:S["a"]});var I=function(t){Object(c["a"])(i,t);var e=Object(l["a"])(i);function i(){var t;Object(n["a"])(this,i);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s)),Object(u["a"])(Object(o["a"])(t),"projectsService",void 0),Object(u["a"])(Object(o["a"])(t),"pagination",void 0),t}return Object(r["a"])(i,[{key:"auth",get:function(){return this.$store.getters.isAuthenticated}},{key:"role",get:function(){return this.$store.getters.isAdministrator}},{key:"beforeCreate",value:function(){this.projectsService=new p["a"],this.pagination=new v["a"](1,3,3)}},{key:"created",value:function(){this.getProjects()}},{key:"paginationClicked",value:function(t){this.$router.replace({name:"projects",params:{page:""+t}}),this.getProjects()}},{key:"getProjects",value:function(){var t=this,e=+this.$route.params.page;(void 0===e||isNaN(e))&&(e=1),this.pagination.currentPage=e,this.projectsService.getProjectsByPage(e,this.pagination.itemsPerPage,!1).then((function(i){t.$data.projects=i.results,t.$data.projects.length||1===e?(t.pagination.itemCount=i.count,t.$data.loading=!1):t.paginationClicked(1)})).catch((function(){t.$data.loading=!1}))}},{key:"deleteProject",value:function(t){var e=this;this.projectsService.deleteProject(t).then((function(t){204===t.status&&(e.$store.dispatch("successMessage","Projekt został usunięty"),e.$router.replace({name:"projects",params:{page:"reload"}}))})).catch((function(){e.$store.dispatch("errorMessage","Błąd poczas usuwania projektu!")}))}},{key:"data",value:function(){return{projects:[],loading:!0}}}]),i}(h["c"]);I=Object(d["a"])([Object(h["a"])({components:{ProjectCard:V}})],I);var B=I,z=B,T=i("891e"),M=i("490a"),N=Object(y["a"])(z,a,s,!1,null,null,null);e["default"]=N.exports;$()(N,{VCol:w["a"],VIcon:_["a"],VPagination:T["a"],VProgressCircular:M["a"],VRow:P["a"]})},"17b3":function(t,e,i){},6124:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var a=i("d4ec"),s=i("bee2"),n=i("ade3"),r=function(){function t(e,i,s){Object(a["a"])(this,t),Object(n["a"])(this,"currentPage",void 0),Object(n["a"])(this,"itemCount",void 0),Object(n["a"])(this,"itemsPerPage",void 0),this.currentPage=e,this.itemCount=i,this.itemsPerPage=s}return Object(s["a"])(t,[{key:"pageCount",get:function(){return Math.ceil(this.itemCount/this.itemsPerPage)}}]),t}()},"891e":function(t,e,i){"use strict";i("17b3");var a=i("9d26"),s=i("dc22"),n=i("a9ad"),r=i("de2c"),o=i("7560"),c=i("58df");e["a"]=Object(c["a"])(n["a"],Object(r["a"])({onVisible:["init"]}),o["a"]).extend({name:"v-pagination",directives:{Resize:s["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const t=parseInt(this.totalVisible,10);if(0===t)return[];const e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);const i=e%2===0?1:0,a=Math.floor(e/2),s=this.length-a+1+i;if(this.value>a&&this.value<s){const t=1,e=this.length,s=this.value-a+2,n=this.value+a-2-i,r=s-1===t+1?2:"...",o=n+1===e-1?n+1:"...";return[1,r,...this.range(s,n),o,this.length]}if(this.value===a){const t=this.value+a-1-i;return[...this.range(1,t),"...",this.length]}if(this.value===s){const t=this.value-a+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,a),"...",...this.range(s,this.length)]}},watch:{value(){this.init()}},mounted(){this.init()},methods:{init(){this.selected=null,this.$nextTick(this.onResize),setTimeout(()=>this.selected=this.value,100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,e){const i=[];t=t>0?t:1;for(let a=t;a<=e;a++)i.push(a);return i},genIcon(t,e,i,s,n){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":i},attrs:{disabled:i,type:"button","aria-label":n},on:i?{}:{click:s}},[t(a["a"],[e])])])},genItem(t,e){const i=e===this.value&&(this.color||"primary"),a=e===this.value,s=a?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(i,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":a,"aria-label":this.$vuetify.lang.t(s,e)},on:{click:()=>this.$emit("input",e)}}),[e.toString()])},genItems(t){return this.items.map((e,i)=>t("li",{key:i},[isNaN(Number(e))?t("span",{class:"v-pagination__more"},[e.toString()]):this.genItem(t,e)]))},genList(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render(t){const e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})},"8cd0":function(t,e,i){},"8ce9":function(t,e,i){},b5c1:function(t,e){t.exports=function(t,e){e=e||{},e.listUnicodeChar=!!e.hasOwnProperty("listUnicodeChar")&&e.listUnicodeChar,e.stripListLeaders=!e.hasOwnProperty("stripListLeaders")||e.stripListLeaders,e.gfm=!e.hasOwnProperty("gfm")||e.gfm,e.useImgAltText=!e.hasOwnProperty("useImgAltText")||e.useImgAltText;var i=t||"";i=i.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*$/gm,"");try{e.stripListLeaders&&(i=e.listUnicodeChar?i.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,e.listUnicodeChar+" $1"):i.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),e.gfm&&(i=i.replace(/\n={2,}/g,"\n").replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/`{3}.*\n/g,"")),i=i.replace(/<[^>]*>/g,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g,e.useImgAltText?"$1":"").replace(/\[(.*?)\][\[\(].*?[\]\)]/g,"$1").replace(/^\s{0,3}>\s?/g,"").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} {0,}(\n)?\s{0,}$/gm,"$1$2$3").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/\n{2,}/g,"\n\n")}catch(a){return console.error(a),t}return i}},c73b:function(t,e,i){"use strict";i("8cd0");var a=i("f2e7"),s=i("fe6c"),n=i("f40d"),r=i("a293"),o=i("58df");e["a"]=Object(o["a"])(s["a"],a["a"],n["a"]).extend({name:"v-speed-dial",directives:{ClickOutside:r["a"]},props:{direction:{type:String,default:"top",validator:t=>["top","right","bottom","left"].includes(t)},openOnHover:Boolean,transition:{type:String,default:"scale-transition"}},computed:{classes(){return{"v-speed-dial":!0,"v-speed-dial--top":this.top,"v-speed-dial--right":this.right,"v-speed-dial--bottom":this.bottom,"v-speed-dial--left":this.left,"v-speed-dial--absolute":this.absolute,"v-speed-dial--fixed":this.fixed,["v-speed-dial--direction-"+this.direction]:!0,"v-speed-dial--is-active":this.isActive}}},render(t){let e=[];const i={class:this.classes,directives:[{name:"click-outside",value:()=>this.isActive=!1}],on:{click:()=>this.isActive=!this.isActive}};if(this.openOnHover&&(i.on.mouseenter=()=>this.isActive=!0,i.on.mouseleave=()=>this.isActive=!1),this.isActive){let i=0;e=(this.$slots.default||[]).map((e,a)=>!e.tag||"undefined"===typeof e.componentOptions||"v-btn"!==e.componentOptions.Ctor.options.name&&"v-tooltip"!==e.componentOptions.Ctor.options.name?(e.key=a,e):(i++,t("div",{style:{transitionDelay:.05*i+"s"},key:a},[e])))}const a=t("transition-group",{class:"v-speed-dial__list",props:{name:this.transition,mode:this.mode,origin:this.origin,tag:"div"}},e);return t("div",i,[this.$slots.activator,a])}})},ce7e:function(t,e,i){"use strict";i("8ce9");var a=i("7560");e["a"]=a["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(t){let e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":e,...this.$attrs},on:this.$listeners})}})},de2c:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var a=i("90a2"),s=i("d9bd"),n=i("2b0e");function r(t){return n["default"].extend({name:"intersectable",mounted(){a["a"].inserted(this.$el,{name:"intersect",value:this.onObserve})},destroyed(){a["a"].unbind(this.$el)},methods:{onObserve(e,i,a){if(a)for(let n=0,r=t.onVisible.length;n<r;n++){const e=this[t.onVisible[n]];"function"!==typeof e?Object(s["c"])(t.onVisible[n]+" method is not available on the instance but referenced in intersectable mixin options"):e()}}}})}},f40d:function(t,e,i){"use strict";var a=i("2b0e");e["a"]=a["default"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}})}}]);