(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Article"],{"17b3":function(t,e,a){},"498a":function(t,e,a){"use strict";var r=a("23e7"),n=a("58a8").trim,i=a("c8d2");r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return n(this)}})},"4df4":function(t,e,a){"use strict";var r=a("0366"),n=a("7b0b"),i=a("9bdd"),s=a("e95a"),c=a("50c4"),o=a("8418"),u=a("35a1");t.exports=function(t){var e,a,l,h,f,p,g=n(t),d="function"==typeof this?this:Array,v=arguments.length,b=v>1?arguments[1]:void 0,m=void 0!==b,y=u(g),x=0;if(m&&(b=r(b,v>2?arguments[2]:void 0,2)),void 0==y||d==Array&&s(y))for(e=c(g.length),a=new d(e);e>x;x++)p=m?b(g[x],x):g[x],o(a,x,p);else for(h=y.call(g),f=h.next,a=new d;!(l=f.call(h)).done;x++)p=m?i(h,b,[l.value,x],!0):l.value,o(a,x,p);return a.length=x,a}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),n=a("5899"),i="["+n+"]",s=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),o=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(s,"")),2&t&&(a=a.replace(c,"")),a}};t.exports={start:o(1),end:o(2),trim:o(3)}},6124:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var r=a("d4ec"),n=a("bee2"),i=a("ade3"),s=function(){function t(e,a,n){Object(r["a"])(this,t),Object(i["a"])(this,"currentPage",void 0),Object(i["a"])(this,"itemCount",void 0),Object(i["a"])(this,"itemsPerPage",void 0),this.currentPage=e,this.itemCount=a,this.itemsPerPage=n}return Object(n["a"])(t,[{key:"pageCount",get:function(){return Math.ceil(this.itemCount/this.itemsPerPage)}}]),t}()},"7f05":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{mx:"12",sm:"10",md:"8",lg:"6",xl:"4"}},[t.articles&&t.articles.length>0?a("v-row",{staticClass:"ma-2",attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},t._l(t.articles,(function(e){return a("article-card",{key:e.title,staticClass:"my-2",attrs:{article:e},on:{delete:t.deleteArticle}})})),1)],1):a("v-row",{staticClass:"fill-height",attrs:{align:"center"}},[a("v-col",[a("div",{staticClass:"text-h3 font-weight-bold text-center"},[t._v(" "+t._s(t.loading?"Ładowanie danych":"Brak artykułów")+" "),t.loading?a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}}):t._e()],1)])],1),t.articles&&t.articles.length>0?a("v-pagination",{staticClass:"mt-2",attrs:{length:t.pagination.pageCount,"prev-icon":"mdi-chevron-left","next-icon":"mdi-chevron-right"},on:{input:t.paginationClicked},model:{value:t.pagination.currentPage,callback:function(e){t.$set(t.pagination,"currentPage",e)},expression:"pagination.currentPage"}}):t._e()],1)],1),t.role?a("v-btn-cap",{staticClass:"success",attrs:{fab:"",fixed:"",bottom:"",right:"",to:{name:"articleAdd"}}},[a("v-icon",{staticClass:"white--text"},[t._v("mdi-plus")])],1):t._e()],1)},n=[],i=a("d4ec"),s=a("bee2"),c=a("257e"),o=a("262e"),u=a("2caf"),l=a("ade3"),h=(a("99af"),a("ac1f"),a("5319"),a("9ab4")),f=a("1b40"),p=a("e03f"),g=a("6124"),d=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;Object(i["a"])(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(l["a"])(Object(c["a"])(t),"articlesService",void 0),Object(l["a"])(Object(c["a"])(t),"pagination",void 0),Object(l["a"])(Object(c["a"])(t),"articles",void 0),t}return Object(s["a"])(a,[{key:"auth",get:function(){return this.$store.getters.isAuthenticated}},{key:"role",get:function(){return this.$store.getters.isAdministrator}},{key:"beforeCreate",value:function(){this.articlesService=new p["a"],this.pagination=new g["a"](1,3,3)}},{key:"mounted",value:function(){this.getArticles()}},{key:"paginationClicked",value:function(t){this.$router.replace({name:"articles",params:{page:""+t}}),this.getArticles()}},{key:"getArticles",value:function(){var t=this,e=+this.$route.params.page;void 0===e||isNaN(e)||e<1?this.paginationClicked(1):(this.pagination.currentPage=e,this.articlesService.getArticles(e,this.pagination.itemsPerPage,!1).then((function(a){t.articles=a.results,t.articles.length||1===e?(t.pagination.itemCount=a.count,t.$data.loading=!1):t.paginationClicked(1)})).catch((function(){t.$data.loading=!1})))}},{key:"deleteArticle",value:function(t){var e=this;this.articlesService.deleteArticle(t).then((function(t){204===t.status&&(e.$store.dispatch("successMessage","Artykuł został usunięty"),e.$router.replace({name:"articles",params:{page:"reload"}}))})).catch((function(){e.$store.dispatch("errorMessage","Błąd poczas usuwania artykułu!")}))}},{key:"data",value:function(){return{articles:this.articles,pagination:this.pagination,loading:!0}}}]),a}(f["c"]);d=Object(h["a"])([f["a"]],d);var v=d,b=v,m=a("2877"),y=a("6544"),x=a.n(y),w=a("62ad"),j=a("132d"),k=a("891e"),A=a("490a"),O=a("0fd9"),$=Object(m["a"])(b,r,n,!1,null,null,null);e["default"]=$.exports;x()($,{VCol:w["a"],VIcon:j["a"],VPagination:k["a"],VProgressCircular:A["a"],VRow:O["a"]})},"891e":function(t,e,a){"use strict";a("17b3");var r=a("9d26"),n=a("dc22"),i=a("a9ad"),s=a("de2c"),c=a("7560"),o=a("58df");e["a"]=Object(o["a"])(i["a"],Object(s["a"])({onVisible:["init"]}),c["a"]).extend({name:"v-pagination",directives:{Resize:n["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const t=parseInt(this.totalVisible,10);if(0===t)return[];const e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);const a=e%2===0?1:0,r=Math.floor(e/2),n=this.length-r+1+a;if(this.value>r&&this.value<n){const t=1,e=this.length,n=this.value-r+2,i=this.value+r-2-a,s=n-1===t+1?2:"...",c=i+1===e-1?i+1:"...";return[1,s,...this.range(n,i),c,this.length]}if(this.value===r){const t=this.value+r-1-a;return[...this.range(1,t),"...",this.length]}if(this.value===n){const t=this.value-r+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,r),"...",...this.range(n,this.length)]}},watch:{value(){this.init()}},mounted(){this.init()},methods:{init(){this.selected=null,this.$nextTick(this.onResize),setTimeout(()=>this.selected=this.value,100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,e){const a=[];t=t>0?t:1;for(let r=t;r<=e;r++)a.push(r);return a},genIcon(t,e,a,n,i){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":a},attrs:{disabled:a,type:"button","aria-label":i},on:a?{}:{click:n}},[t(r["a"],[e])])])},genItem(t,e){const a=e===this.value&&(this.color||"primary"),r=e===this.value,n=r?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(a,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":r,"aria-label":this.$vuetify.lang.t(n,e)},on:{click:()=>this.$emit("input",e)}}),[e.toString()])},genItems(t){return this.items.map((e,a)=>t("li",{key:a},[isNaN(Number(e))?t("span",{class:"v-pagination__more"},[e.toString()]):this.genItem(t,e)]))},genList(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render(t){const e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})},"8ea7":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"fill-height",attrs:{justify:"center",align:"center"}},[a("v-col",{staticClass:"py-0"},[a("p",{staticClass:"text-h5 font-weight-bold text-center ma-2"},[t._v("Artykuły dla tagu #"+t._s(t.$route.params.tag))]),t._l(t.articles,(function(t){return a("article-card",{key:t.title,staticClass:"ma-2",attrs:{article:t}})})),a("v-pagination",{staticClass:"ma-2",attrs:{length:t.pagination.pageCount,"prev-icon":"mdi-chevron-left","next-icon":"mdi-chevron-right"},on:{input:t.paginationClicked},model:{value:t.pagination.currentPage,callback:function(e){t.$set(t.pagination,"currentPage",e)},expression:"pagination.currentPage"}})],2)],1)},n=[],i=a("d4ec"),s=a("bee2"),c=a("257e"),o=a("262e"),u=a("2caf"),l=a("ade3"),h=(a("99af"),a("ac1f"),a("5319"),a("9ab4")),f=a("1b40"),p=a("e03f"),g=a("6124"),d=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;Object(i["a"])(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n)),Object(l["a"])(Object(c["a"])(t),"articlesService",void 0),Object(l["a"])(Object(c["a"])(t),"pagination",void 0),Object(l["a"])(Object(c["a"])(t),"articles",void 0),t}return Object(s["a"])(a,[{key:"beforeCreate",value:function(){this.articlesService=new p["a"],this.pagination=new g["a"](1,3,3)}},{key:"mounted",value:function(){this.getarticlesWithTag()}},{key:"paginationClicked",value:function(t){this.$router.replace({name:"tag",params:{page:""+t}}),this.getarticlesWithTag()}},{key:"getarticlesWithTag",value:function(){var t=this,e=+this.$route.params.page;(void 0===e||isNaN(e))&&(e=1),this.pagination.currentPage=e,this.articlesService.getArticlesWithTag(this.$route.params.tag,e,this.pagination.itemsPerPage,!1).then((function(e){t.articles=e.results,t.pagination.itemCount=e.count}))}},{key:"data",value:function(){return{articles:this.articles,pagination:this.pagination}}}]),a}(f["c"]);d=Object(h["a"])([f["a"]],d);var v=d,b=v,m=a("2877"),y=a("6544"),x=a.n(y),w=a("62ad"),j=a("891e"),k=a("0fd9"),A=Object(m["a"])(b,r,n,!1,null,null,null);e["default"]=A.exports;x()(A,{VCol:w["a"],VPagination:j["a"],VRow:k["a"]})},"9bdd":function(t,e,a){var r=a("825a"),n=a("2a62");t.exports=function(t,e,a,i){try{return i?e(r(a)[0],a[1]):e(a)}catch(s){throw n(t),s}}},a630:function(t,e,a){var r=a("23e7"),n=a("4df4"),i=a("1c7e"),s=!i((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:s},{from:n})},b85c:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("fb6a"),a("b0c0"),a("a630");function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function n(t,e){if(t){if("string"===typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(t,e):void 0}}function i(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=n(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return c=t.done,t},e:function(t){o=!0,s=t},f:function(){try{c||null==a["return"]||a["return"]()}finally{if(o)throw s}}}}},c8d2:function(t,e,a){var r=a("d039"),n=a("5899"),i="​᠎";t.exports=function(t){return r((function(){return!!n[t]()||i[t]()!=i||n[t].name!==t}))}},de2c:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var r=a("90a2"),n=a("d9bd"),i=a("2b0e");function s(t){return i["default"].extend({name:"intersectable",mounted(){r["a"].inserted(this.$el,{name:"intersect",value:this.onObserve})},destroyed(){r["a"].unbind(this.$el)},methods:{onObserve(e,a,r){if(r)for(let i=0,s=t.onVisible.length;i<s;i++){const e=this[t.onVisible[i]];"function"!==typeof e?Object(n["c"])(t.onVisible[i]+" method is not available on the instance but referenced in intersectable mixin options"):e()}}}})}},e03f:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var r=a("b85c"),n=a("1da1"),i=a("d4ec"),s=a("bee2"),c=a("ade3"),o=(a("ac1f"),a("5319"),a("498a"),a("fb6a"),a("96cf"),a("f532")),u=a("0613"),l=function(){function t(){Object(i["a"])(this,t),Object(c["a"])(this,"readMoreGuard","---readmore---")}return Object(s["a"])(t,[{key:"getAllArticles",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])("api/articles/",{params:{format:"json"}});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getArticles",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])("api/articles/",{params:{format:"json",offset:(e-1)*a,limit:a}});case 2:return n=t.sent.data,r||this.cutTextAfterReadMore(n.results),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a,r){return t.apply(this,arguments)}return e}()},{key:"getArticlesWithTag",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a,r,n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])("api/articles/",{params:{tagname:e,format:"json",offset:(a-1)*r,limit:r}});case 2:return i=t.sent.data,n||this.cutTextAfterReadMore(i.results),t.abrupt("return",i);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a,r,n){return t.apply(this,arguments)}return e}()},{key:"getUserArticles",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a,r,n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])("api/articles/",{params:{author:e,format:"json",offset:(a-1)*r,limit:r}});case 2:return i=t.sent.data,n||this.cutTextAfterReadMore(i.results),t.abrupt("return",i);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a,r,n){return t.apply(this,arguments)}return e}()},{key:"getArticle",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a,r,n,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=!(i.length>1&&void 0!==i[1])||i[1],t.next=3,Object(o["a"])("api/articles/"+e,{params:{format:"json"}});case 3:return r=t.sent.data,a&&(n=r.text.indexOf(this.readMoreGuard),-1!==n&&(r.text=r.text.replace(this.readMoreGuard,""))),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"addArticle",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].post("api/articles/",a,{headers:{Authorization:"Bearer "+u["a"].getters.token}});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"editArticle",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].patch("api/articles/"+e+"/",a,{headers:{Authorization:"Bearer "+u["a"].getters.token}});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"deleteArticle",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].delete("api/articles/"+e+"/",{headers:{Authorization:"Bearer "+u["a"].getters.token}});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"generateAliasForTitle",value:function(t){return void 0===t?"":t.trim().toLowerCase().replace(/ /g,"-")}},{key:"cutTextAfterReadMore",value:function(t){var e,a=Object(r["a"])(t);try{for(a.s();!(e=a.n()).done;){var n=e.value,i=n.text.indexOf(this.readMoreGuard);-1!==i&&(n.text=n.text.slice(0,i),n.readMore=!0)}}catch(s){a.e(s)}finally{a.f()}}}]),t}()},fb6a:function(t,e,a){"use strict";var r=a("23e7"),n=a("861d"),i=a("e8b5"),s=a("23cb"),c=a("50c4"),o=a("fc6a"),u=a("8418"),l=a("b622"),h=a("1dde"),f=h("slice"),p=l("species"),g=[].slice,d=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var a,r,l,h=o(this),f=c(h.length),v=s(t,f),b=s(void 0===e?f:e,f);if(i(h)&&(a=h.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?n(a)&&(a=a[p],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return g.call(h,v,b);for(r=new(void 0===a?Array:a)(d(b-v,0)),l=0;v<b;v++,l++)v in h&&u(r,l,h[v]);return r.length=l,r}})}}]);